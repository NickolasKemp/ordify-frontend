<h2 class="title">Orders</h2>

<div>
	<table
		mat-table
		[dataSource]="dataSource"
		matSort
		(matSortChange)="announceSortChange($event)"
		class="mat-elevation-z8"
	>
		<ng-container matColumnDef="position">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header
				sortActionDescription="Sort by number"
			>
				No.
			</th>
			<td mat-cell *matCellDef="let element; let i = index">{{ i + 1 }}</td>
		</ng-container>

		<ng-container matColumnDef="created_at">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header
				sortActionDescription="Sort by name"
			>
				Date
			</th>
			<td mat-cell *matCellDef="let element">
				{{ element.created_at | date }}
			</td>
		</ng-container>

		<ng-container matColumnDef="product">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header
				sortActionDescription="Sort by weight"
			>
				Product
			</th>
			<td mat-cell *matCellDef="let element">{{ element.product.name }}</td>
		</ng-container>

		<ng-container matColumnDef="customer">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header
				sortActionDescription="Sort by weight"
			>
				Customer
			</th>
			<td mat-cell *matCellDef="let element">{{ element.customer.name }}</td>
		</ng-container>

		<ng-container matColumnDef="price">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header
				sortActionDescription="Sort by symbol"
			>
				Total
			</th>
			<td mat-cell *matCellDef="let element">{{ element.price | currency }}</td>
		</ng-container>

		<ng-container matColumnDef="details">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header
				sortActionDescription="Sort by symbol"
			></th>
			<td mat-cell *matCellDef="let element">
				<a (click)="navigateToOrder(element._id)" class="details-link">
					View
				</a>
			</td>
		</ng-container>

		<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
		<tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
	</table>

	<mat-paginator
		#paginator
		[pageSize]="2"
		[length]="10"
		[pageSizeOptions]="[2, 5, 10, 20]"
		showFirstLastButtons
		aria-label="Select page"
	>
	</mat-paginator>
</div>
